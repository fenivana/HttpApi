{"version":3,"file":"Teleman.mjs","sources":["../node_modules/.pnpm/koa-compose@4.1.0/node_modules/koa-compose/index.js","../src/index.mjs"],"sourcesContent":["'use strict'\n\n/**\n * Expose compositor.\n */\n\nmodule.exports = compose\n\n/**\n * Compose `middleware` returning\n * a fully valid middleware comprised\n * of all those which are passed.\n *\n * @param {Array} middleware\n * @return {Function}\n * @api public\n */\n\nfunction compose (middleware) {\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!')\n  for (const fn of middleware) {\n    if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!')\n  }\n\n  /**\n   * @param {Object} context\n   * @return {Promise}\n   * @api public\n   */\n\n  return function (context, next) {\n    // last called middleware #\n    let index = -1\n    return dispatch(0)\n    function dispatch (i) {\n      if (i <= index) return Promise.reject(new Error('next() called multiple times'))\n      index = i\n      let fn = middleware[i]\n      if (i === middleware.length) fn = next\n      if (!fn) return Promise.resolve()\n      try {\n        return Promise.resolve(fn(context, dispatch.bind(null, i + 1)));\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n  }\n}\n","import compose from 'koa-compose'\n\nfunction createURLSearchParams(query) {\n  if (query.constructor === String) {\n    return new URLSearchParams(query)\n  }\n\n  if (query.constructor === Object) {\n    query = Object.entries(query)\n  }\n\n  const q = new URLSearchParams()\n\n  for (const [name, value] of query) {\n    if (value != null) {\n      q.append(name, value)\n    }\n  }\n\n  return q\n}\n\nfunction createFormData(data) {\n  if (data.constructor === Object) {\n    data = Object.entries(data)\n  }\n\n  const f = new FormData()\n\n  for (const [name, value, filename] of data) {\n    if (value != null) {\n      f.append(name, value, filename)\n    }\n  }\n\n  return f\n}\n\nclass Teleman {\n  constructor({ base, headers, readBody = true, throwFailedResponse = true } = {}) {\n    if (base) {\n      this.base = base\n    } else {\n      try {\n        // defaults to document.baseURI in browser\n        this.base = document.baseURI\n      } catch (e) {\n        // in node.js, ignore\n      }\n    }\n\n    this.headers = headers\n    this.readBody = readBody\n    this.throwFailedResponse = throwFailedResponse\n    this.middleware = []\n  }\n\n  use(middleware, beginning = false) {\n    if (beginning) {\n      this.middleware.unshift(middleware)\n    } else {\n      this.middleware.push(middleware)\n    }\n  }\n\n  fetch(url, {\n    method = 'GET',\n    base = this.base,\n    headers,\n    query,\n    params = {},\n    body,\n    readBody = this.readBody,\n    throwFailedResponse = this.throwFailedResponse,\n    use = this.middleware,\n    useBefore = [],\n    useAfter = [],\n    ...rest } = {}\n  ) {\n    return new Promise(resolve => {\n      method = method.toUpperCase()\n      url = new URL(url.replace(/:([a-z]\\w*)/ig, (_, w) => encodeURIComponent(params[w])), base)\n\n      if (query) {\n        if (!(query instanceof URLSearchParams)) {\n          query = createURLSearchParams(query)\n        }\n\n        query.forEach((value, name) => url.searchParams.append(name, value))\n      }\n\n      if (this.headers && headers) {\n        const h = new Headers(this.headers)\n        new Headers(headers).forEach((value, name) => h.set(name, value))\n        headers = h\n      } else {\n        headers = new Headers(this.headers || headers || {})\n      }\n\n      if (body !== undefined && !['GET', 'HEAD'].includes(method)) {\n        const contentType = headers.get('Content-Type') || ''\n\n        if ((!contentType && body && body.constructor === Object) || contentType.startsWith('application/json')) {\n          if (!headers.has('Content-Type')) {\n            headers.set('Content-Type', 'application/json')\n          }\n\n          body = JSON.stringify(body)\n        } else if (contentType.startsWith('multipart/form-data') && body && !(body instanceof FormData)) {\n          body = createFormData(body)\n        } else if (contentType.startsWith('application/x-www-form-urlencoded') && body && !(body instanceof URLSearchParams)) {\n          body = createURLSearchParams(body)\n        }\n      }\n\n      const ctx = {\n        url,\n        options: { method, headers, body },\n        readBody,\n        ...rest\n      }\n\n      resolve(compose([...useBefore, ...use, ...useAfter])(ctx, () =>\n        fetch(ctx.url.href, ctx.options).then(response => {\n          ctx.response = response\n\n          let body = Promise.resolve()\n\n          if (readBody && ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'PURGE'].includes(ctx.options.method.toUpperCase())) {\n            const responseType = response.headers.get('Content-Type')\n\n            if (responseType) {\n              if (responseType.startsWith('application/json')) {\n                body = response.json()\n              } else if (responseType.startsWith('text/')) {\n                body = response.text()\n              } else if (responseType.startsWith('multipart/form-data')) {\n                body = response.formData()\n              }\n            }\n          }\n\n          if (response.ok || !throwFailedResponse) {\n            return body\n          } else {\n            return body.then(e => { throw e })\n          }\n        })\n      ))\n    })\n  }\n\n  get(url, query, options) {\n    return this.fetch(url, {\n      method: 'GET',\n      query,\n      ...options\n    })\n  }\n\n  post(url, body, options) {\n    return this.fetch(url, {\n      method: 'POST',\n      body,\n      ...options\n    })\n  }\n\n  put(url, body, options) {\n    return this.fetch(url, {\n      method: 'PUT',\n      body,\n      ...options\n    })\n  }\n\n  patch(url, body, options) {\n    return this.fetch(url, {\n      method: 'PATCH',\n      body,\n      ...options\n    })\n  }\n\n  delete(url, query, options) {\n    return this.fetch(url, {\n      method: 'DELETE',\n      query,\n      ...options\n    })\n  }\n\n  head(url, query, options) {\n    return this.fetch(url, {\n      method: 'HEAD',\n      query,\n      ...options\n    })\n  }\n\n  purge(url, query, options) {\n    return this.fetch(url, {\n      method: 'PURGE',\n      query,\n      ...options\n    })\n  }\n}\n\nconst singleton = Teleman.singleton = new Teleman()\nTeleman.use = singleton.use.bind(singleton)\nTeleman.fetch = singleton.fetch.bind(singleton)\nTeleman.get = singleton.get.bind(singleton)\nTeleman.post = singleton.post.bind(singleton)\nTeleman.put = singleton.put.bind(singleton)\nTeleman.patch = singleton.patch.bind(singleton)\nTeleman.delete = singleton.delete.bind(singleton)\nTeleman.head = singleton.head.bind(singleton)\nTeleman.purge = singleton.purge.bind(singleton)\n\nexport default Teleman\n"],"names":["compose","middleware","Array","isArray","TypeError","fn","context","next","index","dispatch","i","Promise","reject","Error","length","resolve","bind","err","createURLSearchParams","query","constructor","String","URLSearchParams","Object","entries","q","name","value","append","createFormData","data","f","FormData","filename","Teleman","base","headers","readBody","throwFailedResponse","document","baseURI","e","use","beginning","unshift","push","fetch","url","method","params","body","useBefore","useAfter","rest","toUpperCase","URL","replace","_","w","encodeURIComponent","forEach","searchParams","h","Headers","set","undefined","includes","contentType","get","startsWith","has","JSON","stringify","ctx","options","href","then","response","responseType","json","text","formData","ok","post","put","patch","head","purge","singleton"],"mappings":"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"}